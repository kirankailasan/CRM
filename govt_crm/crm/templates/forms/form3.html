{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Form 3 - Tanda Committee Members</title>
    <link rel="stylesheet" href="{% static 'css/form3.css' %}">

</head>
<body>

    <div class="form3-container">
        <h2>Sant Sevalal Maharaj Banjara - Lambhan Tanda Comprehensive Scheme</h2>
        <h3>Committee Members Information</h3>
        <form class="form-section" id="form3" method="post">
            {% csrf_token %}
            <table id="committee-table">
                <thead>
                    <tr>
                        <th>Sr. No.</th>
                        <th>Name</th>
                        <th>Designation</th>
                        <th>Contact No.</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><input type="text" name="name_1" required></td>
                        <td><input type="text" name="designation_1" value="Nayak" readonly></td>
                        <td><input type="text" name="contact_1" required></td>
                        <td><button type="button" class="delete-btn" onclick="deleteRow(this)">üóëÔ∏è</button></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><input type="text" name="name_2" required></td>
                        <td><input type="text" name="designation_2" value="Karbhari" readonly></td>
                        <td><input type="text" name="contact_2" required></td>
                        <td><button type="button" class="delete-btn" onclick="deleteRow(this)">üóëÔ∏è</button></td>
                    </tr>
                    {% for i in "345"|make_list %}
                    <tr>
                        <td>{{ forloop.counter|add:"2" }}</td>
                        <td><input type="text" name="name_{{ forloop.counter|add:"2" }}" required></td>
                        <td><input type="text" name="designation_{{ forloop.counter|add:"2" }}"></td>
                        <td><input type="text" name="contact_{{ forloop.counter|add:"2" }}" required></td>
                        <td><button type="button" class="delete-btn" onclick="deleteRow(this)">üóëÔ∏è</button></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="add-btn-container">
                <button type="button" class="add-btn" onclick="addCommitteeMember()">Add More Fields</button>
            </div>

            <div id="successMessage" class="success-message" style="display:none;">
                Form saved successfully!
            </div>
        </form>
    </div>

    <script>
        // JavaScript to add new rows dynamically
        function addCommitteeMember() {
            const tableBody = document.querySelector('#committee-table tbody');
            const rowCount = tableBody.rows.length + 1; // Get the new row count

            // Create new row HTML
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${rowCount}</td>
                <td><input type="text" name="name_${rowCount}" required></td>
                <td><input type="text" name="designation_${rowCount}"></td>
                <td><input type="text" name="contact_${rowCount}" required></td>
                <td><button type="button" class="delete-btn" onclick="deleteRow(this)">üóëÔ∏è</button></td>
            `;

            // Append the new row to the table
            tableBody.appendChild(newRow);
        }

        // JavaScript to delete a row
        function deleteRow(button) {
            const row = button.closest('tr');
            row.remove();
        }
    </script>
</body>
</html>
